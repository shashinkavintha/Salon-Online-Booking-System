import{c as K,am as we,an as Se,h as _,d as qe,ao as me,g as G,r as A,a as x,a3 as z,J as Ce,ai as ke,p as Pe,q as te,s as Y,t as ae,n as De,u as H,A as ne,v as se,z as Te,F as Ne,w as ge,ap as Ae,b as j,aq as he,f as Be,j as oe,ar as ye,C as Ie,E as $e,L as Ee,N as Qe,K as Ve,V as Me,W as Le,o as ze,aa as U,X as O,Y as D,Z as I,_ as Ye,a1 as d,a0 as C,a5 as B,ab as re,ac as ie,ad as le,as as ue,ah as W,ae as je,a7 as $,a8 as ce,ak as Ke,a2 as X}from"./index-BkdfeebD.js";import{Q as Re}from"./QImg-BaEIlT2_.js";import{g as de,s as ve}from"./touch-BjYP5sR0.js";import{c as Fe}from"./format-djG2a3QX.js";import{u as be,Q as He}from"./QDate-BHi-22le.js";import{_ as Ue,Q as Oe}from"./_plugin-vue_export-helper-BLP6uk4h.js";import{d as J,u as We}from"./useNotifications-DO5vzZcJ.js";import{u as Xe}from"./use-quasar-BaFF8fvc.js";const Je='<circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="60" cy="15" r="9" fill-opacity=".3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from=".5" to=".5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle>',Ze=K({name:"QSpinnerDots",props:we,setup(e){const{cSize:o,classes:b}=Se(e);return()=>_("svg",{class:b.value,fill:"currentColor",width:o.value,height:o.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",innerHTML:Je})}}),Ge=K({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:o,emit:b}){let h=!1,v,t,a=null,p=null,f,q;function i(){v?.(),v=null,h=!1,a!==null&&(clearTimeout(a),a=null),p!==null&&(clearTimeout(p),p=null),t?.removeEventListener("transitionend",f),f=null}function y(s,n,m){n!==void 0&&(s.style.height=`${n}px`),s.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,h=!0,v=m}function c(s,n){s.style.overflowY=null,s.style.height=null,s.style.transition=null,i(),n!==q&&b(n)}function w(s,n){let m=0;t=s,h===!0?(i(),m=s.offsetHeight===s.scrollHeight?0:void 0):(q="hide",s.style.overflowY="hidden"),y(s,m,n),a=setTimeout(()=>{a=null,s.style.height=`${s.scrollHeight}px`,f=P=>{p=null,(Object(P)!==P||P.target===s)&&c(s,"show")},s.addEventListener("transitionend",f),p=setTimeout(f,e.duration*1.1)},100)}function k(s,n){let m;t=s,h===!0?i():(q="show",s.style.overflowY="hidden",m=s.scrollHeight),y(s,m,n),a=setTimeout(()=>{a=null,s.style.height=0,f=P=>{p=null,(Object(P)!==P||P.target===s)&&c(s,"hide")},s.addEventListener("transitionend",f),p=setTimeout(f,e.duration*1.1)},100)}return qe(()=>{h===!0&&i()}),()=>_(me,{css:!1,appear:e.appear,onEnter:w,onLeave:k},o.default)}}),xe=K({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:o}){const{proxy:{$q:b}}=G(),h=A(null),v=x(()=>e.stepper.modelValue===e.step.name),t=x(()=>{const n=e.step.disable;return n===!0||n===""}),a=x(()=>{const n=e.step.error;return n===!0||n===""}),p=x(()=>{const n=e.step.done;return t.value===!1&&(n===!0||n==="")}),f=x(()=>{const n=e.step.headerNav,m=n===!0||n===""||n===void 0;return t.value===!1&&e.stepper.headerNav&&m}),q=x(()=>e.step.prefix&&(v.value===!1||e.stepper.activeIcon==="none")&&(a.value===!1||e.stepper.errorIcon==="none")&&(p.value===!1||e.stepper.doneIcon==="none")),i=x(()=>{const n=e.step.icon||e.stepper.inactiveIcon;if(v.value===!0){const m=e.step.activeIcon||e.stepper.activeIcon;return m==="none"?n:m||b.iconSet.stepper.active}if(a.value===!0){const m=e.step.errorIcon||e.stepper.errorIcon;return m==="none"?n:m||b.iconSet.stepper.error}if(t.value===!1&&p.value===!0){const m=e.step.doneIcon||e.stepper.doneIcon;return m==="none"?n:m||b.iconSet.stepper.done}return n}),y=x(()=>{const n=a.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(v.value===!0){const m=e.step.activeColor||e.stepper.activeColor||e.step.color;return m!==void 0?m:n}return n!==void 0?n:t.value===!1&&p.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),c=x(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(y.value!==void 0?` text-${y.value}`:"")+(a.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(q.value===!0?"prefix":"icon"):"")+(v.value===!0?" q-stepper__tab--active":"")+(p.value===!0?" q-stepper__tab--done":"")+(f.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(t.value===!0?" q-stepper__tab--disabled":"")),w=x(()=>e.stepper.headerNav!==!0?!1:f.value);function k(){h.value?.focus(),v.value===!1&&e.goToPanel(e.step.name)}function s(n){n.keyCode===13&&v.value===!1&&e.goToPanel(e.step.name)}return()=>{const n={class:c.value};f.value===!0&&(n.onClick=k,n.onKeyup=s,Object.assign(n,t.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:o.tabindex||0}));const m=[_("div",{class:"q-focus-helper",tabindex:-1,ref:h}),_("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[_("span",{class:"row flex-center"},[q.value===!0?e.step.prefix:_(z,{name:i.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const P=[_("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&P.push(_("div",{class:"q-stepper__caption"},e.step.caption)),m.push(_("div",{class:"q-stepper__label q-stepper__line relative-position"},P))}return Ce(_("div",n,m),[[ke,w.value]])}}});function et(e){const o=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((b,h)=>{const v=parseFloat(b);v&&(o[h]=v)}),o}const tt=Pe({name:"touch-swipe",beforeMount(e,{value:o,arg:b,modifiers:h}){if(h.mouse!==!0&&Y.has.touch!==!0)return;const v=h.mouseCapture===!0?"Capture":"",t={handler:o,sensitivity:et(b),direction:de(h),noop:De,mouseStart(a){ve(a,t)&&Te(a)&&(H(t,"temp",[[document,"mousemove","move",`notPassive${v}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(a,!0))},touchStart(a){if(ve(a,t)){const p=a.target;H(t,"temp",[[p,"touchmove","move","notPassiveCapture"],[p,"touchcancel","end","notPassiveCapture"],[p,"touchend","end","notPassiveCapture"]]),t.start(a)}},start(a,p){Y.is.firefox===!0&&ae(e,!0);const f=se(a);t.event={x:f.left,y:f.top,time:Date.now(),mouse:p===!0,dir:!1}},move(a){if(t.event===void 0)return;if(t.event.dir!==!1){ne(a);return}const p=Date.now()-t.event.time;if(p===0)return;const f=se(a),q=f.left-t.event.x,i=Math.abs(q),y=f.top-t.event.y,c=Math.abs(y);if(t.event.mouse!==!0){if(i<t.sensitivity[1]&&c<t.sensitivity[1]){t.end(a);return}}else if(window.getSelection().toString()!==""){t.end(a);return}else if(i<t.sensitivity[2]&&c<t.sensitivity[2])return;const w=i/p,k=c/p;t.direction.vertical===!0&&i<c&&i<100&&k>t.sensitivity[0]&&(t.event.dir=y<0?"up":"down"),t.direction.horizontal===!0&&i>c&&c<100&&w>t.sensitivity[0]&&(t.event.dir=q<0?"left":"right"),t.direction.up===!0&&i<c&&y<0&&i<100&&k>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&i<c&&y>0&&i<100&&k>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&i>c&&q<0&&c<100&&w>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&i>c&&q>0&&c<100&&w>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(ne(a),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Fe(),t.styleCleanup=s=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const n=()=>{document.body.classList.remove("no-pointer-events--children")};s===!0?setTimeout(n,50):n()}),t.handler({evt:a,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:p,distance:{x:i,y:c}})):t.end(a)},end(a){t.event!==void 0&&(te(t,"temp"),Y.is.firefox===!0&&ae(e,!1),t.styleCleanup?.(!0),a!==void 0&&t.event.dir!==!1&&ne(a),t.event=void 0)}};if(e.__qtouchswipe=t,h.mouse===!0){const a=h.mouseCapture===!0||h.mousecapture===!0?"Capture":"";H(t,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}Y.has.touch===!0&&H(t,"main",[[e,"touchstart","touchStart",`passive${h.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,o){const b=e.__qtouchswipe;b!==void 0&&(o.oldValue!==o.value&&(typeof o.value!="function"&&b.end(),b.handler=o.value),b.direction=de(o.modifiers))},beforeUnmount(e){const o=e.__qtouchswipe;o!==void 0&&(te(o,"main"),te(o,"temp"),Y.is.firefox===!0&&ae(e,!1),o.styleCleanup?.(),delete e.__qtouchswipe)}}),at={name:{required:!0},disable:Boolean},pe={setup(e,{slots:o}){return()=>_("div",{class:"q-panel scroll",role:"tabpanel"},j(o.default))}},nt={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},ot=["update:modelValue","beforeTransition","transition"];function rt(){const{props:e,emit:o,proxy:b}=G(),{getCache:h}=be(),{registerTimeout:v}=Ne();let t,a;const p=A(null),f={value:null};function q(l){const S=e.vertical===!0?"up":"left";M((b.$q.lang.rtl===!0?-1:1)*(l.direction===S?1:-1))}const i=x(()=>[[tt,q,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),y=x(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),c=x(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),w=x(()=>`--q-transition-duration: ${e.transitionDuration}ms`),k=x(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),s=x(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),n=x(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);ge(()=>e.modelValue,(l,S)=>{const N=V(l)===!0?L(l):-1;a!==!0&&F(N===-1?0:N<L(S)?-1:1),f.value!==N&&(f.value=N,o("beforeTransition",l,S),v(()=>{o("transition",l,S)},e.transitionDuration))});function m(){M(1)}function P(){M(-1)}function R(l){o("update:modelValue",l)}function V(l){return l!=null&&l!==""}function L(l){return t.findIndex(S=>S.props.name===l&&S.props.disable!==""&&S.props.disable!==!0)}function ee(){return t.filter(l=>l.props.disable!==""&&l.props.disable!==!0)}function F(l){const S=l!==0&&e.animated===!0&&f.value!==-1?"q-transition--"+(l===-1?y.value:c.value):null;p.value!==S&&(p.value=S)}function M(l,S=f.value){let N=S+l;for(;N!==-1&&N<t.length;){const Q=t[N];if(Q!==void 0&&Q.props.disable!==""&&Q.props.disable!==!0){F(l),a=!0,o("update:modelValue",Q.props.name),setTimeout(()=>{a=!1});return}N+=l}e.infinite===!0&&t.length!==0&&S!==-1&&S!==t.length&&M(l,l===-1?t.length:-1)}function g(){const l=L(e.modelValue);return f.value!==l&&(f.value=l),!0}function u(){const l=V(e.modelValue)===!0&&g()&&t[f.value];return e.keepAlive===!0?[_(he,s.value,[_(n.value===!0?h(k.value,()=>({...pe,name:k.value})):pe,{key:k.value,style:w.value},()=>l)])]:[_("div",{class:"q-panel scroll",style:w.value,key:k.value,role:"tabpanel"},[l])]}function r(){if(t.length!==0)return e.animated===!0?[_(me,{name:p.value},u)]:u()}function T(l){return t=Ae(j(l.default,[])).filter(S=>S.props!==null&&S.props.slot===void 0&&V(S.props.name)===!0),t.length}function E(){return t}return Object.assign(b,{next:m,previous:P,goTo:R}),{panelIndex:f,panelDirectives:i,updatePanelsList:T,updatePanelIndex:g,getPanelContent:r,getEnabledPanels:ee,getPanels:E,isValidPanelName:V,keepAliveProps:s,needsUniqueKeepAliveWrapper:n,goToPanelByOffset:M,goToPanel:R,nextPanel:m,previousPanel:P}}function _e(e){return _("div",{class:"q-stepper__step-content"},[_("div",{class:"q-stepper__step-inner"},j(e.default))])}const fe={setup(e,{slots:o}){return()=>_e(o)}},Z=K({name:"QStep",props:{...at,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:o,emit:b}){const{proxy:{$q:h}}=G(),v=Be(ye,oe);if(v===oe)return console.error("QStep needs to be a child of QStepper"),oe;const{getCache:t}=be(),a=A(null),p=x(()=>v.value.modelValue===e.name),f=x(()=>h.platform.is.ios!==!0&&h.platform.is.chrome===!0||p.value!==!0||v.value.vertical!==!0?{}:{onScroll(y){const{target:c}=y;c.scrollTop>0&&(c.scrollTop=0),e.onScroll!==void 0&&b("scroll",y)}}),q=x(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function i(){const y=v.value.vertical;return y===!0&&v.value.keepAlive===!0?_(he,v.value.keepAliveProps.value,p.value===!0?[_(v.value.needsUniqueKeepAliveWrapper.value===!0?t(q.value,()=>({...fe,name:q.value})):fe,{key:q.value},o.default)]:void 0):y!==!0||p.value===!0?_e(o):void 0}return()=>_("div",{ref:a,class:"q-stepper__step",role:"tabpanel",...f.value},v.value.vertical===!0?[_(xe,{stepper:v.value,step:e,goToPanel:v.value.goToPanel}),v.value.animated===!0?_(Ge,i):i()]:[i()])}}),it=/(-\w)/g;function st(e){const o={};for(const b in e){const h=b.replace(it,v=>v[1].toUpperCase());o[h]=e[b]}return o}const lt=K({name:"QStepper",props:{...Ie,...nt,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:ot,setup(e,{slots:o}){const b=G(),h=$e(e,b.proxy.$q),{updatePanelsList:v,isValidPanelName:t,updatePanelIndex:a,getPanelContent:p,getPanels:f,panelDirectives:q,goToPanel:i,keepAliveProps:y,needsUniqueKeepAliveWrapper:c}=rt();Ee(ye,x(()=>({goToPanel:i,keepAliveProps:y,needsUniqueKeepAliveWrapper:c,...e})));const w=x(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(h.value===!0?" q-stepper--dark q-dark":"")),k=x(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function s(){const n=j(o.message,[]);if(e.vertical===!0){t(e.modelValue)&&a();const m=_("div",{class:"q-stepper__content"},j(o.default));return n===void 0?[m]:n.concat(m)}return[_("div",{class:k.value},f().map(m=>{const P=st(m.props);return _(xe,{key:P.name,stepper:e,step:P,goToPanel:i})})),n,Ve("div",{class:"q-stepper__content q-panel-parent"},p(),"cont",e.swipeable,()=>q.value)]}return()=>(v(o),_("div",{class:w.value},Qe(o.navigation,s())))}}),ut={style:{width:"100%","max-width":"1000px"}},ct={class:"row q-col-gutter-lg q-py-md justify-center"},dt={key:0,class:"col-12 text-center q-pa-xl"},vt={class:"absolute-full flex flex-center bg-grey-8 text-grey-5"},pt={class:"text-h6 q-mb-xs font-serif"},ft={class:"text-accent text-weight-bold"},mt={class:"text-caption text-grey-5 q-mt-sm"},gt={key:0,class:"absolute-top-right q-pa-sm"},ht={class:"row q-col-gutter-lg justify-center q-py-md"},yt={key:0,class:"col-12 text-center text-grey-5"},bt=["onClick"],xt=["src"],_t={class:"text-h6 font-serif text-center"},wt={class:"text-caption text-accent text-uppercase"},St={class:"row q-col-gutter-xl justify-center q-py-md"},qt={class:"col-12 col-md-auto"},Ct={key:0,class:"col-12 col-md-auto"},kt={key:0,class:"text-center q-pa-md"},Pt={key:1,class:"text-center text-grey-5 q-pa-md"},Dt={key:2,class:"row q-gutter-sm justify-center",style:{"max-width":"320px"}},Tt={class:"column flex-center q-py-lg"},Nt={class:"row items-center q-mb-md"},At={class:"text-h6"},Bt={class:"row items-center q-mb-md"},It={class:"text-h6"},$t={class:"row items-center q-mb-md"},Et={class:"text-h6"},Qt={class:"row items-center q-mb-xl"},Vt={class:"text-h6 text-accent"},Mt={class:"row justify-between q-pa-md"},Lt={key:1},zt={__name:"BookingPage",setup(e){const o=Xe(),b=Ye(),h=Me(),{user:v}=Le(h),{sendNotification:t}=We(),a=A(1),p=A(!0),f=A([]),q=A([]),i=A(null),y=A(null),c=A(null),w=A(null),k=A(!1),s=A(!1),n=A([]),m=["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00"];ze(async()=>{try{const{data:g,error:u}=await U.from("services").select("*");if(u)throw u;f.value=g;const{data:r,error:T}=await U.from("staff").select("*");if(T)throw T;q.value=r}catch(g){console.error(g),o.notify({type:"negative",message:"Failed to load configuration"})}finally{p.value=!1}});const P=g=>{i.value=g,y.value=null,c.value=null,w.value=null},R=g=>{y.value=g,c.value=null,w.value=null},V=x(()=>i.value?q.value.filter(g=>g.specialties&&g.specialties.includes(i.value.category)):[]);ge(c,async g=>{if(!(!g||!y.value)){w.value=null,s.value=!0;try{const u=g.replaceAll("/","-"),{data:r,error:T}=await U.rpc("get_active_appointments_for_date",{p_staff_id:y.value.id,p_date:u});if(T)throw T;console.log("Availability (RPC):",r),n.value=r.map(E=>{const l=new Date(E.start_time);return J.formatDate(l,"HH:mm")}),console.log("Occupied Slots (Local):",n.value)}catch(u){console.error(u),o.notify({type:"warning",message:"Could not check availability. Please try again."})}finally{s.value=!1}}});const L=x(()=>{if(!c.value)return[];const g=new Date,u=J.formatDate(g,"YYYY/MM/DD"),r=c.value===u;return m.map(T=>{let E=!0;if(n.value.includes(T)&&(E=!1),E&&r){const[l,S]=T.split(":").map(Number),N=new Date(g);N.setHours(l,S,0,0),J.getDateDiff(N,g,"minutes")<60&&(E=!1)}return{time:T,available:E}})}),ee=x(()=>a.value===1?!!i.value:a.value===2?!!y.value:a.value===3?!!c.value&&!!w.value:!0),F=g=>g>=J.formatDate(Date.now(),"YYYY/MM/DD"),M=async()=>{k.value=!0;try{if(!v.value)throw new Error("You must be logged in");const[g,u,r]=c.value.split("/").map(Number),[T,E]=w.value.split(":").map(Number),S=new Date(g,u-1,r,T,E).toISOString(),{data:N,error:Q}=await U.from("appointments").insert({user_id:v.value.id,service_id:i.value.id,staff_id:y.value.id,start_time:S,status:"pending"}).select();if(Q)throw Q.code==="23505"?new Error("This time slot has just been booked. Please select another time."):Q;N&&N[0]&&t("created",N[0]),o.notify({type:"positive",message:"Booking confirmed! We will contact you shortly.",timeout:2e3}),setTimeout(()=>{b.push("/dashboard?tab=bookings")},1500)}catch(g){o.notify({type:"negative",message:g.message||"Booking failed"}),g.message.includes("time slot")}finally{k.value=!1}};return(g,u)=>(D(),O(Oe,{class:"q-pa-md q-pa-lg-xl bg-black text-white flex flex-center"},{default:I(()=>[d("div",ut,[u[11]||(u[11]=d("div",{class:"text-center q-mb-xl"},[d("div",{class:"text-h3 font-serif q-mb-sm"},"Book Your Appointment"),d("div",{class:"text-grey-5 text-subtitle1"},"Experience our premium services")],-1)),C(lt,{modelValue:a.value,"onUpdate:modelValue":u[3]||(u[3]=r=>a.value=r),ref:"stepper","alternative-labels":"",dark:"",color:"accent",animated:"",class:"bg-grey-10 no-shadow border-white-10",style:{"border-radius":"20px"}},{navigation:I(()=>[d("div",Mt,[a.value>1?(D(),O(X,{key:0,flat:"",color:"white",onClick:u[1]||(u[1]=r=>g.$refs.stepper.previous()),label:"Back",class:"q-ml-sm",rounded:""})):(D(),B("div",Lt)),a.value<4?(D(),O(X,{key:2,onClick:u[2]||(u[2]=r=>g.$refs.stepper.next()),color:"accent",label:a.value===4?"Finish":"Next",rounded:"",class:"q-px-xl",disable:!ee.value},null,8,["label","disable"])):W("",!0)])]),default:I(()=>[C(Z,{name:1,title:"Select Service",icon:"spa",done:a.value>1},{default:I(()=>[d("div",ct,[p.value?(D(),B("div",dt,[C(Ze,{size:"40px",color:"accent"})])):(D(!0),B(re,{key:1},ie(f.value,r=>(D(),B("div",{key:r.id,class:"col-12 col-md-4"},[C(le,{class:ue(["service-card cursor-pointer full-height bg-grey-9 border-white-10",{"selected-card":i.value?.id===r.id}]),onClick:T=>P(r)},{default:I(()=>[C(Re,{src:r.image_url,ratio:4/3,class:"rounded-borders-top"},{error:I(()=>[d("div",vt,[C(z,{name:"image_not_supported",size:"32px"})])]),_:1},8,["src"]),C(je,null,{default:I(()=>[d("div",pt,$(r.name),1),d("div",ft,$(r.duration_min)+" min â€¢ LKR "+$(r.price),1),d("div",mt,$(r.description),1)]),_:2},1024),i.value?.id===r.id?(D(),B("div",gt,[C(ce,{color:"accent","text-color":"white",icon:"check",size:"sm"})])):W("",!0)]),_:2},1032,["class","onClick"])]))),128))])]),_:1},8,["done"]),C(Z,{name:2,title:"Choose Specialist",icon:"person",done:a.value>2},{default:I(()=>[d("div",ht,[V.value.length===0?(D(),B("div",yt," No specialists available for this service. ")):W("",!0),(D(!0),B(re,null,ie(V.value,r=>(D(),B("div",{key:r.id,class:"col-6 col-sm-4 col-md-3"},[d("div",{class:ue(["column flex-center cursor-pointer q-pa-md transition-all rounded-borders",y.value?.id===r.id?"bg-grey-9 border-accent":"hover-bg-grey-9"]),onClick:T=>R(r),style:{border:"2px solid transparent","border-radius":"16px"}},[C(ce,{size:"100px",class:"q-mb-md shadow-5"},{default:I(()=>[d("img",{src:r.image_url},null,8,xt)]),_:2},1024),d("div",_t,$(r.name),1),d("div",wt,$(r.role),1)],10,bt)]))),128))])]),_:1},8,["done"]),C(Z,{name:3,title:"Date & Time",icon:"event",done:a.value>3},{default:I(()=>[d("div",St,[d("div",qt,[u[4]||(u[4]=d("div",{class:"text-h6 q-mb-md text-center"},"Select Date",-1)),C(He,{modelValue:c.value,"onUpdate:modelValue":u[0]||(u[0]=r=>c.value=r),dark:"",color:"accent",options:F,flat:"",bordered:"",class:"bg-grey-9 border-white-10"},null,8,["modelValue"])]),c.value?(D(),B("div",Ct,[u[5]||(u[5]=d("div",{class:"text-h6 q-mb-md text-center"},"Available Time Slots",-1)),s.value?(D(),B("div",kt,[C(Ke,{color:"accent"})])):L.value.every(r=>!r.available)?(D(),B("div",Pt,"No slots available for this date.")):(D(),B("div",Dt,[(D(!0),B(re,null,ie(L.value,r=>(D(),O(X,{key:r.time,label:r.time,outline:w.value!==r.time,unelevated:w.value===r.time,color:w.value===r.time?"accent":r.available?"white":"grey-8","text-color":w.value===r.time||r.available?"white":"grey-6",rounded:"",class:"q-px-md",disable:!r.available,onClick:T=>w.value=r.time},null,8,["label","outline","unelevated","color","text-color","disable","onClick"]))),128))]))])):W("",!0)])]),_:1},8,["done"]),C(Z,{name:4,title:"Confirm",icon:"verified",done:a.value>4},{default:I(()=>[d("div",Tt,[u[10]||(u[10]=d("div",{class:"text-h5 font-serif text-accent q-mb-md"},"Booking Summary",-1)),C(le,{class:"bg-grey-9 border-white-10 q-pa-lg",style:{width:"100%","max-width":"400px","border-radius":"16px"}},{default:I(()=>[d("div",Nt,[C(z,{name:"spa",color:"accent",size:"24px",class:"q-mr-md"}),d("div",null,[u[6]||(u[6]=d("div",{class:"text-caption text-grey-5"},"Service",-1)),d("div",At,$(i.value?.name),1)])]),d("div",Bt,[C(z,{name:"person",color:"accent",size:"24px",class:"q-mr-md"}),d("div",null,[u[7]||(u[7]=d("div",{class:"text-caption text-grey-5"},"Specialist",-1)),d("div",It,$(y.value?.name),1)])]),d("div",$t,[C(z,{name:"event",color:"accent",size:"24px",class:"q-mr-md"}),d("div",null,[u[8]||(u[8]=d("div",{class:"text-caption text-grey-5"},"Date & Time",-1)),d("div",Et,$(c.value)+" at "+$(w.value),1)])]),d("div",Qt,[C(z,{name:"payments",color:"accent",size:"24px",class:"q-mr-md"}),d("div",null,[u[9]||(u[9]=d("div",{class:"text-caption text-grey-5"},"Total Price",-1)),d("div",Vt,"LKR "+$(i.value?.price),1)])]),C(X,{label:"Confirm Booking",color:"accent",class:"full-width text-weight-bold",rounded:"",size:"lg",loading:k.value,onClick:M},null,8,["loading"])]),_:1})])]),_:1},8,["done"])]),_:1},8,["modelValue"])])]),_:1}))}},Wt=Ue(zt,[["__scopeId","data-v-5040eb55"]]);export{Wt as default};
